<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="calculator">
        <textarea id="input" placeholder="Enter math expressions..." onkeydown="handleKeyDown(event)"></textarea>
    </div>

    <div class="bottom-bar">
        <div class="bottom-row">
            <span id="title" >Quick MathsJS Web Calc</span>
            <div class="actions"> <!-- This is a new container for padControls and mobileOperatorKeypad -->
                <div class="padControls">
                    <button onclick="clearpad()">CLEAR</button>
                </div>
                <div class="mobileOperatorKeypad">
                    <!-- These operators can take more than one shift button clicks in android keyboard to reach -->
                    <button onclick="insertText('^')">^</button>
                    <button onclick="insertText('%')">*</button>
                    <button onclick="insertText('=')">=</button>
                    <button onclick="insertText(':=')">:=</button>
                </div>
            </div>
        </div>

        <!-- Quick Start Section -->
        <details class="quickstart">
            <summary>Show Quick Start</summary>
            <div id="quickstartDetails">
                <h2>Quick Start</h2>
                <ol>
                <li>Open the calculator by simply loading this webpage in your preferred web browser.</li>
                <li>Type mathematical expressions in the provided textarea.</li>
                <li>To assign a value to a variable, use the format: `a = 5`.</li>
                <li>To evaluate an expression, write it, append with `:=`, and then press `Enter`. For example: `a * 2 :=`.</li>
                <li>To save your calculations, simply copy the URL which now contains your compressed data.</li>
                <li>To load previously saved calculations, paste the copied URL into your browser.</li>
            </ol>
            <p><a href="#H4sIAAAAAAAAA3VVbW/bOAz+7l/Bw3CYc0tdv79s2AcvSdcMadpLnB2GogMcW0mE2pYnyU3y74+S05dbe0HiWCL5kBTJR+/g744W91e53IlvS/iHrEd5VcBKEA5fO1oSw3gH2Y4KEAWnrTwT8lgR2CoRlKRmjZA8l0TAju1BMugEgYecU9YJqBGV4IMWeQWsJahI0QDypoQNyWXH0Y42b4ZggfL8JV1OR5Auptnl1STD1+ubySLNptfzpRKnZUkVpBHAB/Dg42eI1fayW2NQhZZEcAa+knhKctVVkrYVBqSFIfzVmznabkwfqFD7MZyDq/Z9tX3D9oQbHvzsgWJHI7GyqzBHc4EZ0qbE88o3Ep+PIAPDseHPE7wOdvw9nY8mY7hKs8sJPqajdAYXq/noKZ+M0y1rWE0kpwVcdI3OQaBkziT5CDJvzJae+wNAzCGsOwnyuTawZ817CVv6QIAcMP/qCA6UHVF12VQMc262Zy2jjYS8bTk70LqvCB72O+g/utb4LViNxVXVqfPmCIJt5D7nBCq65lheIixDUB2NO+hTLJjApV6cOcZzqLi2reS3j8p22jwQju3yf1nnyoFtBSeIwPWCJI6iAJ9uEidGrjw+yh3L9iMnQanjJGGQRNrFjG0xWLmrEVh13eTQsoY0kmJDPjuq2NZ0bFvj+FZoB05kOzG6ie3ENcihNfscI8uLEzsIbfTu2WGge+1Xp46FMya1h0bu9MIQv7g0k0Hferi7wE3TjYbgDZ7a8QKLxDgGYwR/6CRcW22PsB2ydJ7pnrihYHqW4ztB4oaBF8SYmjcwXGzdliqj0HJjD8P17MiJkiAOldWkqwh/L6Dp6jU2pelakRO7sfr5QWL7QY9AFEBg+V4YhOqXOJiy7sS8A/MV8gDL2p3ryXgVkrL6yqqSNKDnHEzHChHO8/AcIx+P7OSz3dEewPVCO4ySCIWncq3m02wJ5g/WQZE3gIyxYbx+SR17LCYiHIXmlK6hsqeTgqlmUuNA6oFmDuyeQiu8MEeeqDVT1HqQoVYzer/FoPC/Phc/dWrYCjDX4SjrHlk8meMsFdo8QLWi1lyQZovpaLKEdD5GslqkP3TlkNE4PcCIk55t6n79GW5xdt1P4A3Bv3uh+MRmJ8UPWtH5pEbduVMub29d7J+7Idz6QwjuXhqPCZJPTZu8kUZJpNlj9NPo9tySN6Jlghjy8e2l0q3ypaFdFZaGXqbfp/OvOqvZdTpW70hZo9XsBQNXyOwbOLKOY8mqoqseOR6HQuQPpFQUglWB1WJmQcb0Zq+/Z/x+CILWLRJVwdrjf/SQr8rXuENocyGJ1uzhUR9dYFW07pqzPd5dlp6BxeJ6AZcY/gxD14yjI0VGuyeQQ02FVG8Y4Bt+3rwX9xTzFeqqw/YknDMONREi3yID0O1OQkMOUrWIig8Zdl319x/ycYuXneoiDM05t9WRT5sNxQ47qsiuV9nNKoNl9mM20Qc7JgWycwULogyRsvoe8tz+MnP1zXSJNF++rbgjBxO1eu48OL7W/4L9wY+/qyombvEqycVJwbDXDg6BmoN+HDQpnSbsMTBM8qS9Rpp+crV2lJ2tjf4FZbuT6l0IAAA=" target="_blank">Click To Load Example</a></p>
            <p>For a comprehensive guide and more detailed instructions, <a href="https://github.com/mofosyne/QuickMathsJS-WebCalc" target="_blank">check out the full README</a>. Additionally, for details on supported mathematical syntax and operations, <a href="https://mathjs.org/docs/expressions/syntax.html" target="_blank">refer to the math.js documentation</a>.</p>
        </details>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.1/math.min.js"></script>
    <!-- Local math.js fallback if above link fails to load-->
    <script>
        if (typeof math === 'undefined') {
          var script = document.createElement('script');
          script.src = 'math.min.js';
          document.body.appendChild(script);
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
